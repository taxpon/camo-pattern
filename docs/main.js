(()=>{"use strict";var t,e,n,o,r,i,a,s,c,u,l,h,p,f,d,y,g,m,A,v,b,x,w,_,C,M,k,S,E={539:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(15),r=n.n(o),i=n(645),a=n.n(i)()(r());a.push([t.id,"body{margin:0;padding:0;font-family:sans-serif}.ui-wrapper{position:absolute;width:100%;height:100%}.controls{position:absolute;margin:10px;padding:10px;border:3px dashed gray;background:rgba(128,128,128,.3)}.controls .button{background:gray;margin:10px;padding:10px 20px;display:inline-block;cursor:pointer;user-select:none;border:3px solid #666}.controls .button:hover{background:#d3d3d3}.controls .controls-section{margin:10px}.controls .controls-section .controls-section-title{margin-bottom:10px;font-weight:bold}.controls .controls-section label{user-select:none;cursor:pointer}.controls .controls-section input[type=range]{width:100%}.controls .controls-section #m90p2-control{display:none;margin-top:20px}.controls .controls-section input[value=m90p2]:checked~#m90p2-control{display:block}@media only screen and (max-device-width: 812px){.controls{bottom:0;font-size:4rem}.controls .ui-buttons .ui-button{padding:20px 40px}#camo-control-panel{display:none}}","",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"AAAA,KACE,QAAA,CACA,SAAA,CACA,sBAAA,CAGF,YACE,iBAAA,CACA,UAAA,CACA,WAAA,CAGF,UACE,iBAAA,CACA,WAAA,CACA,YAAA,CACA,sBAAA,CACA,+BAAA,CAEA,kBACE,eAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,cAAA,CACA,gBAAA,CACA,qBAAA,CAEA,wBACE,kBAAA,CAIJ,4BAEE,WAAA,CAEA,oDACE,kBAAA,CACA,gBAAA,CAGF,kCACE,gBAAA,CACA,cAAA,CAGF,8CACE,UAAA,CAGF,2CACE,YAAA,CACA,eAAA,CAGF,sEAEE,aAAA,CAON,iDAEE,UACE,QAAA,CACA,cAAA,CAGE,iCACE,iBAAA,CAIN,oBACE,YAAA,CAAA",sourcesContent:['body {\n  margin: 0;\n  padding: 0;\n  font-family: sans-serif;\n}\n\n.ui-wrapper {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.controls {\n  position: absolute;\n  margin: 10px;\n  padding: 10px;\n  border: 3px dashed gray;\n  background: rgba(128, 128, 128, 0.3);\n\n  .button {\n    background: grey;\n    margin: 10px;\n    padding: 10px 20px;\n    display: inline-block;\n    cursor: pointer;\n    user-select: none;\n    border: 3px solid #666;\n\n    &:hover {\n      background: lightgray;\n    }\n  }\n\n  .controls-section {\n    //border: 3px dashed gray;\n    margin: 10px;\n\n    .controls-section-title {\n      margin-bottom: 10px;\n      font-weight: bold;\n    }\n\n    label {\n      user-select: none;\n      cursor: pointer;\n    }\n\n    input[type=range] {\n      width: 100%;\n    }\n\n    #m90p2-control {\n      display: none;\n      margin-top: 20px;\n    }\n\n    input[value="m90p2"]:checked ~ #m90p2-control\n    {\n      display: block;\n    }\n  }\n\n\n}\n\n@media only screen\n  and (max-device-width: 812px) {\n  .controls {\n    bottom: 0;\n    font-size: 4rem;\n\n    .ui-buttons {\n      .ui-button {\n        padding: 20px 40px;\n      }\n    }\n  }\n  #camo-control-panel {\n    display: none;\n  }\n}\n\n'],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t.exports=function(t){var n,o,r=(o=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}}(n,o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[1],a=r[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),u="/*# ".concat(c," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[i].concat(l).concat([u]).join("\n")}return[i].join("\n")}},379:(t,e,n)=>{var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var h=a(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(i[h].references++,i[h].updater(p)):i.push({identifier:l,updater:y(p,e),references:1}),o.push(l)}return o}function c(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=l(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var f=null,d=0;function y(t,e){var n,o,r;if(e.singleton){var i=d++;n=f||(f=c(e)),o=h.bind(null,n,i,!1),r=h.bind(null,n,i,!0)}else n=c(e),o=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}}},P={};function j(t){var e=P[t];if(void 0!==e)return e.exports;var n=P[t]={id:t,exports:{}};return E[t](n,n.exports,j),n.exports}j.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return j.d(e,{a:e}),e},j.d=(t,e)=>{for(var n in e)j.o(e,n)&&!j.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},j.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e=function(){function t(){}return t.getInstance=function(){return void 0===this._instance&&(this._instance=new t),this._instance},t.getState=function(t,e){void 0===e&&(e=void 0);var n=this.getInstance()[t];return null==n?e:n},t.setState=function(e,n,o){var r=this;return void 0===o&&(o=!0),this.getInstance()[e]=n,o?(t._callbacks.forEach((function(t){t(r,e,n)})),n):n},t.flipState=function(e){var n=t.getState(e);if("boolean"==typeof n)return t.setState(e,!n);console.error("Failed to flip state due to invalid state type",n)},t.registerCallback=function(t){this._callbacks.add(t)},t.deregisterCallback=function(t){this._callbacks.delete(t)},t._callbacks=new Set,t}(),n="pattern",o="palette",r="num-points",i="animate",a="mouse-pos",s="camo-depth",c="mouse-interaction",u="enable-control-panel",l=function(){function t(){}return t.getBaseColorFromPalette=function(t){return this._palettes[t][0]},t.colorGeneratorFromPalette=function(t){return this.colorGenerator(this._palettes[t])},t.colorGenerator=function(t){var e,n,o,r;return function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){switch(i.label){case 0:for(e=this.range(0,t.length-1),o=e.length;1<o;o--)n=Math.floor(Math.random()*o),r=[e[o-1],e[n]],e[n]=r[0],e[o-1]=r[1];o=0,i.label=1;case 1:return o<e.length?[4,t[e[o]]]:[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:return[3,0];case 5:return[2]}}))},t._palettes={green:["#6C7C52","#4A4F44","#3B3845","#B2B096"],blue:["#3770DB","#172F5C","#7B9FE0","#32415C","#2A56A8"],desert:["#B8A79B","#72625D","#A69887","#6D4C2D"],orange:["#FF824D","#782400","#F74A00","#7A442C","#C73B00"],uc1:["#C4B9B5","#683A31","#4A5F56"],uc2:["#262527","#513A3E","#424B50"]},t.range=function(t,e){return Array.from({length:e-t+1},(function(e,n){return n+t}))},t}(),h=function(){function t(t){this.ctx=t}return t.prototype.drawCircle=function(t){this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.arc(t.center.x,t.center.y,t.radius,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},t.prototype.drawPolygon=function(t,e,n){var o=this;void 0===e&&(e=void 0),void 0===n&&(n=void 0),e?(this.ctx.fillStyle=e,this.ctx.strokeStyle=n||e):(this.ctx.fillStyle=t.color,this.ctx.strokeStyle=t.strokeColor||t.color),this.ctx.beginPath(),t.points.forEach((function(t,e){var n,r;0===e?(n=o.ctx).moveTo.apply(n,t.coord):(r=o.ctx).lineTo.apply(r,t.coord)})),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},t}(),p=function(){function t(t,e,n){void 0===n&&(n=null),this._x=t,this._y=e,this._index=n}return Object.defineProperty(t.prototype,"coord",{get:function(){return[this._x,this._y]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.x+","+this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasIndex",{get:function(){return!!this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyIndex",{get:function(){return this._index},enumerable:!1,configurable:!0}),t.prototype.dist=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.div=function(t){return this.x/=t,this.y/=t,this},t.of=function(e,n){var o=e+","+n;return void 0===this._cache[o]&&(this._cache[o]=new t(e,n)),this._cache[o]},t.randomOf=function(e,n,o,r){return void 0===e&&(e=0),void 0===n&&(n=0),t.of(e+Math.random()*o,n+Math.random()*r)},t.randomPointsOf=function(e,n,o,r){for(var i=[],a=0;a<r;a++)i.push(2*Math.PI*Math.random());return i.sort(),i.map((function(r){return t.of(e+o*Math.cos(r),n+o*Math.sin(r))}))},t.randomPoints2Of=function(e,n,o,r){for(var i=[],a=2*Math.PI*Math.random(),s=0;s<r;s++){var c=1.5*Math.random()-.75,u=2*Math.PI/r*s+c;i.push(u+a)}return i.sort(),i.map((function(r){return t.of(e+o*Math.cos(r),n+o*Math.sin(r))}))},t._cache={},t}(),f=function(){function t(t,e,n){void 0===n&&(n=void 0),this._points=t,this._color=e,this._strokeColor=n,this._center=this._points.reduce((function(t,e,n,o){return new p(t.x+e.x,t.y+e.y)})).div(this._points.length),this._points.sort(this.comparePoints.bind(this)),this.setMinMax()}return Object.defineProperty(t.prototype,"points",{get:function(){return this._points},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.points.map((function(t){return t.key})).join("/")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyIndex",{get:function(){return this.points.map((function(t){return t.keyIndex.toString()})).join("/")},enumerable:!1,configurable:!0}),t.prototype.equals=function(t){if(this.points.length!=t.points.length)return!1;for(var e=0;e<this.points.length;e++)if(!this.points[e].equals(t.points[e]))return!1;return!0},t.prototype.isContaining=function(t){var e=!1;if(t.x<this.minX||t.x>this.maxX||t.y<this.minY||t.y>this.maxY)return!1;for(var n=0,o=this.points.length-1;n<this.points.length;o=n++)this.points[n].y>t.y!=this.points[o].y>t.y&&t.x<(this.points[o].x-this.points[n].x)*(t.y-this.points[n].y)/(this.points[o].y-this.points[n].y)+this.points[n].x&&(e=!e);return e},t.prototype.setMinMax=function(){this.minX=this.points[0].x,this.maxX=this.points[0].x,this.minY=this.points[0].y,this.maxY=this.points[0].y;for(var t=1;t<this.points.length;t++){var e=this.points[t];this.minX=Math.min(e.x,this.minX),this.maxX=Math.max(e.x,this.maxX),this.minY=Math.min(e.y,this.minY),this.maxY=Math.max(e.y,this.maxY)}},t.prototype.comparePoints=function(t,e){var n=this;return t.equals(e)?0:function(){if(t.x-n._center.x>=0&&e.x-n._center.x<0)return!0;if(t.x-n._center.x<0&&e.x-n._center.x>=0)return!1;if(t.x-n._center.x==0&&e.x-n._center.x==0)return t.y-n._center.y>=0||e.y-n._center.y>=0?t.y>e.y:e.y>t.y;var o=(t.x-n._center.x)*(e.y-n._center.y)-(e.x-n._center.x)*(t.y-n._center.y);return o<0||!(o>0)&&(t.x-n._center.x)*(t.x-n._center.x)+(t.y-n._center.y)*(t.y-n._center.y)>(e.x-n._center.x)*(e.x-n._center.x)+(e.y-n._center.y)*(e.y-n._center.y)}()?1:-1},t}(),t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},d=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)},y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.startAnimate=function(){},n.prototype.stopAnimate=function(){},n.prototype.handleMouseMove=function(t){},n.prototype.draw=function(t,n){for(var o=l.colorGeneratorFromPalette(e.getState("palette","green")),r=500,i=Math.ceil(t/r),a=Math.ceil(n/r),s=0;s<i;s++)for(var c=0;c<a;c++){var u=r*s,h=r*c,d=o.next(),y=4;if((A=Math.random())>.66?y=5:A>.33&&(y=6),!(Math.random()>.8)){var g=new f(p.randomPoints2Of(u,h,r,y),d.value);this.drawPolygon(g)}}var m=200;for(i=Math.ceil(t/m),a=Math.ceil(n/m),s=0;s<i;s++)for(c=0;c<a;c++){var A;u=m*s,h=m*c,d=o.next(),y=4,(A=Math.random())>.66?y=5:A>.33&&(y=6),Math.random()>.8||(g=new f(p.randomPoints2Of(u,h,m,y),d.value),this.drawPolygon(g))}},n}(h),g=function(){function t(t,e,n){this._center=t,this._radius=e,this._color=n}return Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},enumerable:!1,configurable:!0}),t.prototype.isContaining=function(t){return this.center.dist(t)<this.radius},t}(),m=function(){function t(){}return t.range=function(t,e){return Array.from({length:e-t+1},(function(e,n){return n+t}))},t}(),A=function(){function t(t,e){t.hasIndex&&e.hasIndex?t.keyIndex<e.keyIndex?(this._start=t,this._end=e):(this._start=e,this._end=t):t.x<=e.x?(this._start=t,this._end=e):(this._start=e,this._end=t)}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.start.key+"/"+this.end.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyIndex",{get:function(){return this.start.keyIndex+"-"+this.end.keyIndex},enumerable:!1,configurable:!0}),t.prototype.equals=function(t){return this._start.equals(t._start)&&this._end.equals(t._end)||this._start.equals(t._end)&&this._end.equals(t._start)},t}(),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(t){function e(e,n){if(3!=e.length)throw Error("Triangle must have 3 points");return t.call(this,e,n)||this}return v(e,t),Object.defineProperty(e.prototype,"area",{get:function(){return this._area||(this._area=Math.abs(.5*(this.points[0].x*(this.points[1].y-this.points[2].y)+this.points[1].x*(this.points[2].y-this.points[0].y)+this.points[2].x*(this.points[0].y-this.points[1].y)))),this._area},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"edges",{get:function(){return this._edges||(this._edges=[],this._edges.push(new A(this.points[0],this.points[1])),this._edges.push(new A(this.points[1],this.points[2])),this._edges.push(new A(this.points[2],this.points[0]))),this._edges},enumerable:!1,configurable:!0}),e.prototype.getCircumcircle=function(){if(!this._circumcircle){var t=this.points[0].x,e=this.points[0].y,n=this.points[1].x,o=this.points[1].y,r=this.points[2].x,i=this.points[2].y,a=Math.pow(t,2),s=Math.pow(n,2),c=Math.pow(r,2),u=Math.pow(e,2),l=Math.pow(o,2),h=Math.pow(i,2),f=2*((n-t)*(i-e)-(o-e)*(r-t)),d=((i-e)*(s-a+l-u)+(e-o)*(c-a+h-u))/f,y=((t-r)*(s-a+l-u)+(n-t)*(c-a+h-u))/f,m=Math.sqrt(Math.pow(t-d,2)+Math.pow(e-y,2));this._circumcircle=new g(new p(d,y),m,"white")}return this._circumcircle},e}(f),x=function(){function t(){}return t.incrementAndGet=function(){return void 0===this._index&&(this._index=0),this._index++},t.reset=function(){this._index=0},t}(),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(t){function n(e){var n=t.call(this,e)||this;return n.activeTriangle=new Array(2),n}return w(n,t),n.prototype.draw=function(t,n){var i=this;this.points=[];var a=Math.ceil(t/500),c=Math.ceil(n/500);x.reset();for(var u=0;u<a+1;u++)for(var h=0;h<c+1;h++)this.points.push(new p(t/a*u,n/c*h,x.incrementAndGet()));var f=e.getState(r)-1;m.range(0,f).forEach((function(e,o){i.points.push(new p(Math.random()*t,Math.random()*n,x.incrementAndGet()))}));var d=Math.sqrt(t*t+n*n)/2,y=new p(t/2,n/2);this.drawCircle(new g(y,d,"rgba(1, 1, 1, 0)"));var A=new p(y.x-Math.sqrt(3)*d,y.y-d,x.incrementAndGet()),v=new p(y.x+Math.sqrt(3)*d,y.y-d,x.incrementAndGet()),w=new p(y.x,y.y+2*d,x.incrementAndGet()),_=new b([A,v,w],"pink"),C=l.colorGeneratorFromPalette(e.getState(o,"green"));C.next();var M=[_];for(this.points.forEach((function(t,e){var n=[];M.forEach((function(e,o){e.getCircumcircle().isContaining(t)&&(n=n.concat(e.edges),delete M[o])})),n.map((function(t,e){for(var o=0;o<n.length;o++)if(e!=o&&t.equals(n[o]))return null;return t})).filter((function(t){return t})).forEach((function(e){M.push(new b([e.start,e.end,t],C.next().value))}))})),this.triangles=M.filter((function(t){return t})),this.triangleAreas=this.triangles.map((function(t){return t.area})).sort((function(t,e){return t-e})),this.triangleAreaMedian=this.triangleAreas[Math.floor(this.triangleAreas.length/2)],this.buildEdgeMap(),this.visitMap={},u=0;u<this.triangles.length;u++){var k=this.triangles[u];this.visitMap[k.keyIndex]||this.makeCamouflage(k,C.next().value,e.getState(s))}},n.prototype.makeCamouflage=function(t,e,n,o){var r=this;if(void 0===o&&(o=null),o=o||n,t.color=e,this.visitMap[t.keyIndex]=e,0!=n){var i=n===o,a=[];t.edges.forEach((function(s,c){var u=r.edgeMap[s.keyIndex].filter((function(e){return!e.equals(t)}))[0];u&&a.push(u),u&&!r.visitMap[u.keyIndex]&&(i=!1,(u.area<5e3||Math.random()<n/o)&&r.makeCamouflage(u,e,n-1,o))})),i?0==a.length?console.error("Failed to find adjacentTriangle"):(t.color=this.visitMap[a[0].keyIndex],this.drawPolygon(t,t.color,t.color)):this.drawPolygon(t,e)}else this.drawPolygon(t,e)},n.prototype.startAnimate=function(){this.interval=setInterval(this.animate.bind(this),50)},n.prototype.stopAnimate=function(){clearInterval(this.interval)},n.prototype.animate=function(){var t=this;this.points.forEach((function(e,n){t.points[n].x+=4*(Math.random()-.5),t.points[n].y+=4*(Math.random()-.5)})),this.triangles.forEach((function(e){t.isActiveTriangle(e)?t.drawPolygon(e,"red"):t.adjacentPolygons[e.keyIndex]?t.drawPolygon(e,"blue"):t.drawPolygon(e)}))},n.prototype.handleMouseMove=function(t){var n=this;e.getState(c)&&(this.triangles.forEach((function(o){o.isContaining(t)&&e.getState(c)?(n.updateActiveTriangle(o),n.drawPolygon(o,"red")):n.drawPolygon(o)})),Object.keys(this.adjacentPolygons).forEach((function(t){n.drawPolygon(n.adjacentPolygons[t],"blue")})))},n.prototype.buildEdgeMap=function(){var t=this;this.edgeMap={},this.triangles.forEach((function(e){e.edges.forEach((function(n){void 0===t.edgeMap[n.keyIndex]&&(t.edgeMap[n.keyIndex]=[]),t.edgeMap[n.keyIndex].push(e)})),t.drawPolygon(e)}))},n.prototype.updateActiveTriangle=function(t){var e=this;if(!this.isActiveTriangle(t)){this.activeTriangle[1]=this.activeTriangle[0],this.activeTriangle[0]=t,this.adjacentPolygons={};for(var n=0;n<t.edges.length;n++){var o=this.edgeMap[t.edges[n].keyIndex];o&&o.length>1&&o.forEach((function(n){n.equals(t)||(e.adjacentPolygons[n.keyIndex]=n)}))}}},n.prototype.isActiveTriangle=function(t){return this.activeTriangle[0]&&this.activeTriangle[0].equals(t)},n}(h),C=function(){function t(t){void 0===t&&(t="#6C7C52"),this._baseCol=t,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.logics={m90p1:new y(this.ctx),m90p2:new _(this.ctx)},window.onresize=this.redrawHandler.bind(this),e.registerCallback(this.redrawHandler.bind(this)),this.redrawHandler(null,null,null)}return t.prototype.reDraw=function(){this.ctx.fillStyle=l.getBaseColorFromPalette(e.getState(o)),this.ctx.fillRect(0,0,this.width,this.height),this.draw()},t.prototype.redrawHandler=function(t,n,r){var s=this.logics[e.getState("pattern")];n===i?r?s.startAnimate():s.stopAnimate():n===a?s.handleMouseMove(r):n===c||n===u||(this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.canvas.setAttribute("width",this.width.toString()),this.canvas.setAttribute("height",this.height.toString()),this.ctx.fillStyle=l.getBaseColorFromPalette(e.getState(o)),this.ctx.fillRect(0,0,this.width,this.height),this.draw())},t.prototype.draw=function(){this.logics[e.getState("pattern")].draw(this.width,this.height)},t}(),M=j(379),k=j.n(M),S=j(539),k()(S.Z,{insert:"head",singleton:!1}),S.Z.locals,window.onload=function(){document.getElementById("download").onclick=function(t){var e=document.getElementById("canvas"),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("download","camo-pattern.png"),n.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),n.click(),document.body.removeChild(n)},document.getElementById("refresh").onclick=function(){y.reDraw()};var t=document.getElementById("controls-values");e.setState(n,t["camo-pattern"].value),e.setState(o,t["color-palette"].value),e.setState(r,t["num-points"].value),e.setState(s,t["camo-depth"].value),e.setState(i,!1),e.setState(c,!0),e.setState(u,!0),document.querySelectorAll("#camo-pattern input[type=radio]").forEach((function(t){t.onclick=function(){e.getState(n)!=t.value&&e.setState(n,t.value)}}));var l=document.querySelector("#camo-pattern input[name=num-points]"),h=document.getElementById("num-points-val");l.onchange=function(t){h.textContent=l.value,e.getState(r)!=l.value&&e.setState(r,l.value)};var f=document.querySelector("#camo-pattern input[name=camo-depth]"),d=document.getElementById("camo-depth-val");f.onchange=function(t){d.textContent=f.value,e.getState(s)!=f.value&&e.setState(s,f.value)},document.getElementById("start-animate").onclick=function(t){!0!==e.getState(i)&&e.setState(i,!0)},document.getElementById("stop-animate").onclick=function(t){!1!==e.getState(i)&&e.setState(i,!1)},document.querySelectorAll("#color-palette input[type=radio]").forEach((function(t){t.onclick=function(){e.getState(o)!=t.value&&e.setState(o,t.value)}})),window.onmousemove=function(t){e.getState(a)&&e.getState(a).equals(p.of(t.clientX,t.clientY))||e.setState(a,p.of(t.clientX,t.clientY))},window.ontouchend=function(t){y.reDraw(),e.setState(c,!1)},window.onkeydown=function(t){if("m"===t.key)e.flipState(c);else if("c"===t.key){var n=e.flipState(u);document.getElementById("camo-control-panel").style.display=n?"block":"none"}else"r"===t.key?y.reDraw():"a"===t.key&&e.flipState(i)};var y=new C}})();